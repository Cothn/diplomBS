<!doctype html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <!-- Обязательные метатеги -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Library</title>

    <style>
        th, td {
            padding: 5px;
        }
    </style>

    <div th:replace="fragments/header :: header-css"/>

</head>

<body>

    <div th:replace="fragments/header :: header"/>
    <div id="content" class="container">
        <h2 >Audiobook details</h2>

        <table border="1" th:object="${audiobookInfo}">
            <tr>
                <th>ID</th>
                <th>Название</th>
                <th>Авторы</th>
                <th>Исполнители</th>
                <th>Обложка</th>
                <th>Жанры</th>
                <th>Год издания</th>
                <th>Описание</th>
                <th>Distributed</th>
                <th>Рейтинг</th>
                <th>Длительность</th>
                <th>Дата добавления</th>
                <th>Добавил</th>
            </tr>
            <tr>
                <td th:utext="${audiobookInfo.id}">..</td>
                <td><p th:utext="${audiobookInfo.title}"></p></td>
                <td >
                    | <th:block th:each="itemInfo : ${audiobookInfo.audiobookCreators}">
                    <th:block th:utext="${itemInfo.title}+ ' |'" th:if="${itemInfo.Author}">
                        /
                    </th:block>
                </th:block>
                </td>
                <td>
                    | <th:block th:each="itemInfo : ${audiobookInfo.audiobookCreators}">
                    <th:block th:utext="${itemInfo.title} + ' |'" th:unless="${itemInfo.Author}">
                    </th:block>
                </th:block>
                </td>
                <td><img th:src="@{${audiobookInfo.picturePath}}"></td>
                <td>
                    | <th:block th:each="itemInfo : ${audiobookInfo.audiobookGenres}">
                    <th:block th:utext="${itemInfo.title}+ ' |'">
                    </th:block>
                </th:block>
                </td>
                <td th:utext="${audiobookInfo.publicationYear}">..</td>
                <td th:utext="${audiobookInfo.description}">..</td>
                <td th:utext="(${audiobookInfo.distributed} ? 'Yes' : 'No')">..</td>
                <td th:utext="${audiobookInfo.rating}">..</td>
                <td th:utext="${audiobookInfo.audiobookFile.duration}">..</td>
                <td th:utext="${audiobookInfo.addDate}">..</td>
                <td th:utext="${audiobookInfo.user.nickname}">..</td>
            </tr>

        </table>

        <h3>Audiobook Comments</h3>
        <table border="1" >
            <tr>
                <th>ID</th>
                <th>Никнейм</th>
                <th>Текст</th>
                <th>Дата добавления</th>
            </tr>
            <tr th:each="element : ${commentsInfos}">
                <td th:utext="${element.id}">..</td>
                <td th:utext="${element.user.nickname}">..
                <td th:utext="${element.text}">..</td>
                <td th:utext="${element.sendDateTime}">..</td>
            </tr>
        </table>
    </div>
    <div th:replace="fragments/footer :: footer"/>
</body>
</html>