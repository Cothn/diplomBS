<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>

    <title>Library</title>
    <div th:replace="fragments/header :: header-css"/>

</head>

<body>

<div th:replace="fragments/header :: header"/>

<h2>Add audiobook</h2>

<script th:if="${message}" th:inline="javascript">
    var message = /*[[${message}]]*/ 'default';
    alert(message);
</script>

    <form th:action="@{/audiobook/add}" th:object="${audiobookInfo}" method="POST">
        <input type="hidden"  required id="picturePath" th:field="*{picturePath}">
        <label for="title">Название</label>
        <input type="text"  required id="title" name="title" value="Новая книга"><br>
        <label for="authors">Создатели аудиокниги</label>
        <br>
        <select id="authors" required multiple size="2"
                name="audiobookCreators">
            <option th:each="creator : ${allCreators}" th:value="${creator.id}" >
                <p th:text="${creator.title}"></p><p th:if="${creator.author}"> автор</p>
                <p th:unless="${creator.author}"> исполнитель</p></option>
        </select>
        <br>
        <label for="genre">Жанры</label>
        <br>
        <select id="genre" required multiple size="2"
                name="audiobookGenres">
            <option th:each="genre : ${allGenres}" th:value="${genre.id}"><p th:text="${genre.title}"></p></option>
        </select>
        <br>
        <select id="audiobookFile" required hidden
                name="audiobookFile">
            <option th:value="*{audiobookFile.id}" selected>qwe</option>
        </select>
        <input type="hidden"  required id="distributed" th:field="*{distributed}">
        <input type="hidden"  required id="rating" th:field="*{rating}">
        <label for="description">Описание</label>
        <input type="text"  id="description" name="description" value="Аудиокнига"><br>
        <select id="userId" required hidden
                name="user">
            <option th:value="*{user.id}" selected>qwe</option>
        </select>
        <label for="title">Год издания</label>
        <input type="text"  required id="publicYear" name="publicationYear" value="2000"><br>
        <input type="submit"  value="Добавить">
    </form>

</body>
</html>